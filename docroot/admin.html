<!DOCTYPE html SYSTEM "about:legacy-compat">

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:z2="http://www.hekkelman.com/libzeep/m2"
	  lang="nl" >

<head z2:replace="~{head::head(~{::title},~{::head/script})}">
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

	<title>PDB-REDO Session Manager - Admin console</title>

	<script src="scripts/admin.js"></script>
</head>

<body>

<script z2:inline="javascript">
	const _csrf = /*[[${csrfToken}]]*/ null;
</script>

	<nav z2:replace="~{menu :: navbar('admin')}" />

	<div class="container-fluid">

		<h3 class="mt-3">Admin console</h3>

		<table class="table table-striped table-sm">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">User</th>
					<th scope="col">Session Name</th>
					<th scope="col">Session ID</th>
					<th scope="col">Token</th>
					<th scope="col">Created</th>
					<th scope="col">Expires</th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
				<tr z2:each="session, i: ${sessions}">
					<th scope="row" z2:text="${i.count}"></th>
					<td z2:text="${session.user}"></td>
					<td z2:text="${session.name}"></td>
					<td z2:text="${session.id}"></td>
					<td z2:text="${session.token}"></td>
					<td z2:text="${#dates.format(session.created, '%d %B %Y, %H:%M')}"></td>
					<td z2:text="${#dates.format(session.expires, '%d %B %Y, %H:%M')}"></td>
					<td><a class="action" href="javascript:void(0);" z2:attr="data-sessionid=${session.id}"><i class="bi bi-trash"></i></a></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>
